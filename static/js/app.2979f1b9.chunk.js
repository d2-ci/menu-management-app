"use strict";(self.webpackChunk_dhis2_app_shell=self.webpackChunk_dhis2_app_shell||[]).push([[3524],{6069:function(e,r,a){a.r(r),a.d(r,{default:function(){return H}});var t=a(4967),o=a(2176),n="App_container__KkHQY",s="App_title__OeqjW",p="App_description__VWmvS",d=a(3296),i=a(5011),l=a(3587),m=a(4349),u=a(591),c=a(4259),g=a(4462),h=a(7024),w=JSON.parse('{"Your apps":"\u062a\u0637\u0628\u064a\u0642\u0627\u062a\u0643","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}'),f=JSON.parse('{"Your apps":"Va\u0161e aplikace","Drag and drop the menu items to re-order them.":"P\u0159et\xe1hn\u011bte polo\u017eky nab\xeddky a uspo\u0159\xe1dejte je znovu.","Updated order of apps.":"Aktualizovan\xe9 po\u0159ad\xed aplikac\xed.","Something went wrong whilst loading your apps":"P\u0159i na\u010d\xedt\xe1n\xed aplikac\xed se n\u011bco pokazilo"}'),S=JSON.parse('{"Your apps":"","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}'),A=JSON.parse('{"Your apps":"Sus aplicaciones","Drag and drop the menu items to re-order them.":"Arrastre y suelte los elementos del men\xfa para volver a ordenarlos","Updated order of apps.":"Orden actualizado de aplicaciones.","Something went wrong whilst loading your apps":"Algo sali\xf3 mal al cargar sus aplicaciones"}'),_=JSON.parse('{"Your apps":"Vos applications","Drag and drop the menu items to re-order them.":"Faites glissez les \xe9l\xe9ments de menu pour les r\xe9arranger!","Updated order of apps.":"Ordre des applications mis \xe0 jour.","Something went wrong whilst loading your apps":"Une erreur s\'est produite lors du chargement de vos applications"}'),v=JSON.parse('{"Your apps":"\u0ec1\u0ead\u0eb1\u0e9a\u0e82\u0ead\u0e87\u0e97\u0ec8\u0eb2\u0e99","Drag and drop the menu items to re-order them.":"\u0ea5\u0eb2\u0e81\u0ec1\u0ea5\u0eb0\u0ea7\u0eb2\u0e87\u0ea5\u0eb2\u0e8d\u0e81\u0eb2\u0e99\u0ec0\u0ea1\u0e99\u0eb9\u0ec0\u0e9e\u0eb7\u0ec8\u0ead\u0eaa\u0eb1\u0ec8\u0e87\u0e9e\u0ea7\u0e81\u0ea1\u0eb1\u0e99\u0e84\u0eb7\u0e99.","Updated order of apps.":"\u0ead\u0eb1\u0e9a\u0ec0\u0e94\u0e94\u0ea5\u0eb3\u0e94\u0eb1\u0e9a\u0e82\u0ead\u0e87\u0ec1\u0ead\u0eb1\u0e9a.","Something went wrong whilst loading your apps":"\u0ea1\u0eb5\u0e9a\u0eb2\u0e87\u0ea2\u0ec8\u0eb2\u0e87\u0e9c\u0eb4\u0e94\u0e9e\u0eb2\u0e94\u0ec3\u0e99\u0e82\u0eb0\u0e99\u0eb0\u0e97\u0eb5\u0ec8\u0ec2\u0eab\u0ebc\u0e94\u0ec1\u0ead\u0eb1\u0e9a\u0eaf\u0e82\u0ead\u0e87\u0e97\u0ec8\u0eb2\u0e99"}'),k=JSON.parse('{"Your apps":"Dine applikasjoner","Drag and drop the menu items to re-order them.":"Dra og slipp menypunktene for \xe5 endre rekkef\xf8lge","Updated order of apps.":"Oppdatert rekkef\xf8lge av apper.","Something went wrong whilst loading your apps":"Noe gikk galt under innlasting av appene dine"}'),D=JSON.parse('{"Your apps":"Dina appar","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}'),y=JSON.parse('{"Your apps":"\u0412\u0430\u0448\u0456 \u0434\u043e\u0434\u0430\u0442\u043a\u0438","Drag and drop the menu items to re-order them.":"\u041f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u043f\u0443\u043d\u043a\u0442\u0438 \u043c\u0435\u043d\u044e, \u0449\u043e\u0431 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u0457\u0445 \u043f\u043e\u0440\u044f\u0434\u043e\u043a.","Updated order of apps.":"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439 \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u0434\u043e\u0434\u0430\u0442\u043a\u0456\u0432.","Something went wrong whilst loading your apps":"\u041f\u0456\u0434 \u0447\u0430\u0441 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u043e\u0434\u0430\u0442\u043a\u0456\u0432 \u0441\u0442\u0430\u043b\u0430\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430"}'),O=JSON.parse('{"Your apps":"\u0622\u067e \u06a9\u06cc \u0627\u06cc\u067e\u0633","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}'),E=JSON.parse('{"Your apps":"Sizning ilovalaringiz","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}'),N=JSON.parse('{"Your apps":"\u0421\u0438\u0437\u043d\u0438\u043d\u0433 \u0438\u043b\u043e\u0432\u0430\u043b\u0430\u0440\u0438\u043d\u0433\u0438\u0437","Drag and drop the menu items to re-order them.":"\u041c\u0435\u043d\u044e \u0442\u0430\u0440\u0442\u0438\u0431\u0438\u043d\u0438 \u045e\u0437\u0433\u0430\u0440\u0442\u0438\u0440\u0438\u0448 \u0443\u0447\u0443\u043d \u0443\u043b\u0430\u0440\u043d\u0438 \u0441\u0438\u043b\u0436\u0438\u0442\u0438\u043d\u0433","Updated order of apps.":"\u0418\u043b\u043e\u0432\u0430\u043b\u0430\u0440 \u0442\u0430\u0440\u0442\u0438\u0431\u0438 \u044f\u043d\u0433\u0438\u043b\u0430\u043d\u0434\u0438","Something went wrong whilst loading your apps":"\u0418\u043b\u043e\u0432\u0430\u043b\u0430\u0440\u0438\u043d\u0433\u0438\u0437\u043d\u0438 \u044e\u043a\u043b\u0430\u0448\u0434\u0430 \u0445\u0430\u0442\u043e\u043b\u0438\u043a \u044e\u0437 \u0431\u0435\u0440\u0434\u0438"}'),U=JSON.parse('{"Your apps":"Sizning ilovalaringiz","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}'),Y=JSON.parse('{"Your apps":"\u1ee8ng d\u1ee5ng c\u1ee7a b\u1ea1n","Drag and drop the menu items to re-order them.":"K\xe9o v\xe0 th\u1ea3 c\xe1c m\u1ee5c menu \u0111\u1ec3 s\u1eafp x\u1ebfp l\u1ea1i ch\xfang.","Updated order of apps.":"C\u1eadp nh\u1eadt th\u1ee9 t\u1ef1 c\xe1c \u1ee9ng d\u1ee5ng.","Something went wrong whilst loading your apps":"C\xf3 g\xec \u0111\xf3 kh\xf4ng \u1ed5n khi t\u1ea3i \u1ee9ng d\u1ee5ng c\u1ee7a b\u1ea1n"}'),b=JSON.parse('{"Your apps":"\u4f60\u7684\u5e94\u7528","Drag and drop the menu items to re-order them.":"\u62d6\u653e\u83dc\u5355\u9879\u4ee5\u5bf9\u5176\u91cd\u65b0\u6392\u5e8f\u3002","Updated order of apps.":"\u5e94\u7528\u7a0b\u5e8f\u7684\u66f4\u65b0\u987a\u5e8f\u3002","Something went wrong whilst loading your apps":"\u52a0\u8f7d\u5e94\u7528\u7a0b\u5e8f\u65f6\u51fa\u4e86\u70b9\u95ee\u9898"}');const R="default";h.A.addResources("ar",R,w),h.A.addResources("cs",R,f),h.A.addResources("en",R,S),h.A.addResources("es",R,A),h.A.addResources("fr",R,_),h.A.addResources("lo",R,v),h.A.addResources("nb",R,k),h.A.addResources("sv",R,D),h.A.addResources("uk",R,y),h.A.addResources("ur",R,O),h.A.addResources("uz_Latn",R,E),h.A.addResources("uz_UZ_Cyrl",R,N),h.A.addResources("uz_UZ_Latn",R,U),h.A.addResources("vi",R,Y),h.A.addResources("zh",R,b);var J=h.A,z=a(9029),C=a(3990),M="DraggableApp_app-link__O7o3z",j="DraggableApp_app-icon__bMGf1",P="DraggableApp_app-name__hE5Oo";const W=e=>{let{defaultAction:r,icon:a,displayName:t}=e;return o.createElement("div",null,o.createElement("a",{className:M,href:r},o.createElement("img",{className:j,src:a}),o.createElement("div",{className:P},t)))};var x=e=>{let{app:r,onDrag:a,onDrop:t}=e;const[{isDragging:n},s]=(0,z.i)({item:{name:r.name,type:"APP"},collect:e=>({isDragging:e.isDragging()}),end:t}),[,p]=(0,C.H)({accept:"APP",hover(e){e.name!=r.name&&a(e.name,r.name)}}),d=(0,o.useRef)();return s(d),p(d),o.createElement("div",{ref:d,style:{visibility:n?"hidden":"visible"}},o.createElement(W,r))},F="MenuManagement_apps__Mvj9k";const K={apps:{resource:"action::menu/getModules"}},L={resource:"menu",type:"create",data:e=>{let{items:r}=e;return r}},V=e=>{let{apps:r,initialAppsOrder:a}=e;const[t,n]=(0,o.useState)(a),{show:s}=(0,d.MW)(J.t("Updated order of apps."),{success:!0}),{show:p}=(0,d.MW)((e=>e),{critical:!0}),[l]=(0,d.r8)(L,{onComplete(){s()},onError(e){p(e.message)}}),m=(0,o.useCallback)(((e,r)=>{const a=((e,r,a)=>{const t=e.indexOf(r),o=e.indexOf(a),n=[...e];return n.splice(t,1),n.splice(o,0,r),n})(t,e,r);n(a)}),[t]),u=(0,o.useCallback)((()=>{l({items:t})}),[t]);return o.createElement(i.Z,null,o.createElement(c.Q,{backend:g.t2},o.createElement("div",{className:F},t.map((e=>o.createElement(x,{key:e,onDrag:m,onDrop:u,app:r[e]}))))))};var Z=()=>{const{baseUrl:e}=(0,d.UK)(),{loading:r,error:a,data:t}=(0,d.iO)(K),n=(0,o.useMemo)((()=>{const r=r=>r.startsWith("http:")||r.startsWith("https:")?r:function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return r.filter((e=>!!e)).map((e=>e.replace(/^\/+|\/+$/g,""))).join("/")}(e,"api",r);return null===t||void 0===t?void 0:t.apps.modules.map((e=>({...e,icon:r(e.icon),defaultAction:r(e.defaultAction)})))}),[t]);if(r)return o.createElement(l.o,null,o.createElement(m.F,null));if(a){const e=J.t("Something went wrong whilst loading your apps");return o.createElement(u.I,{error:!0,title:e},a.message)}const s={};return n.forEach((e=>s[e.name]=e)),o.createElement(V,{apps:s,initialAppsOrder:n.map((e=>{let{name:r}=e;return r}))})};var H=()=>o.createElement(o.Fragment,null,o.createElement(t.L,{spacers:!0,theme:!0}),o.createElement("div",{className:n},o.createElement("header",null,o.createElement("h1",{className:s},J.t("Your apps")),o.createElement("p",{className:p},J.t("Drag and drop the menu items to re-order them."))),o.createElement(Z,null)))}}]);
//# sourceMappingURL=app.2979f1b9.chunk.js.map