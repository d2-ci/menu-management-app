(this["webpackJsonp@dhis2/app-shell"]=this["webpackJsonp@dhis2/app-shell"]||[]).push([[135],{282:function(e,a,t){e.exports={container:"App_container__2zgzu",title:"App_title__1NBlr",description:"App_description__3qOuV"}},283:function(e){e.exports=JSON.parse('{"Your apps":"\u062a\u0637\u0628\u064a\u0642\u0627\u062a\u0643","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}')},284:function(e){e.exports=JSON.parse('{"Your apps":"Va\u0161e aplikace","Drag and drop the menu items to re-order them.":"P\u0159et\xe1hn\u011bte polo\u017eky nab\xeddky a uspo\u0159\xe1dejte je znovu.","Updated order of apps.":"Aktualizovan\xe9 po\u0159ad\xed aplikac\xed.","Something went wrong whilst loading your apps":"P\u0159i na\u010d\xedt\xe1n\xed aplikac\xed se n\u011bco pokazilo"}')},285:function(e){e.exports=JSON.parse('{"Your apps":"","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}')},286:function(e){e.exports=JSON.parse('{"Your apps":"Sus aplicaciones","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}')},287:function(e){e.exports=JSON.parse('{"Your apps":"Vos applications","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}')},288:function(e){e.exports=JSON.parse('{"Your apps":"Dine applikasjoner","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}')},289:function(e){e.exports=JSON.parse('{"Your apps":"Dina appar","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}')},290:function(e){e.exports=JSON.parse('{"Your apps":"\u0622\u067e \u06a9\u06cc \u0627\u06cc\u067e\u0633","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}')},291:function(e){e.exports=JSON.parse('{"Your apps":"\u0421\u0438\u0437\u043d\u0438\u043d\u0433 \u0438\u043b\u043e\u0432\u0430\u043b\u0430\u0440\u0438\u043d\u0433\u0438\u0437","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}')},292:function(e){e.exports=JSON.parse('{"Your apps":"Sizning ilovalaringiz","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}')},293:function(e){e.exports=JSON.parse('{"Your apps":"\u1ee8ng d\u1ee5ng c\u1ee7a b\u1ea1n","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}')},294:function(e){e.exports=JSON.parse('{"Your apps":"\u4f60\u7684\u5e94\u7528","Drag and drop the menu items to re-order them.":"\u62d6\u653e\u83dc\u5355\u9879\u4ee5\u5bf9\u5176\u91cd\u65b0\u6392\u5e8f\u3002","Updated order of apps.":"\u5e94\u7528\u7a0b\u5e8f\u7684\u66f4\u65b0\u987a\u5e8f\u3002","Something went wrong whilst loading your apps":"\u52a0\u8f7d\u5e94\u7528\u7a0b\u5e8f\u65f6\u51fa\u4e86\u70b9\u95ee\u9898"}')},295:function(e,a,t){e.exports={"app-link":"DraggableApp_app-link__1sukN","app-icon":"DraggableApp_app-icon__2JFke","app-name":"DraggableApp_app-name__2jau-"}},300:function(e,a,t){e.exports={apps:"MenuManagement_apps__23px2"}},304:function(e,a,t){"use strict";t.r(a);var r=t(6),o=t(0),n=t.n(o),p=t(282),s=t.n(p),i=t(7),d=t(303),c=t(301),l=t(4),u=t(283),m=t(284),g=t(285),h=t(286),f=t(287),w=t(288),O=t(289),b=t(290),S=t(291),D=t(292),E=t(293),N=t(294);const _="default";l.a.addResources("ar",_,u),l.a.addResources("cs",_,m),l.a.addResources("en",_,g),l.a.addResources("es",_,h),l.a.addResources("fr",_,f),l.a.addResources("nb",_,w),l.a.addResources("sv",_,O),l.a.addResources("ur",_,b),l.a.addResources("uz",_,S),l.a.addResources("uz_Latn",_,D),l.a.addResources("vi",_,E),l.a.addResources("zh",_,N);var y=l.a,k=t(305),v=t(306),x=t(295),j=t.n(x);const J=({defaultAction:e,icon:a,displayName:t})=>n.a.createElement("div",null,n.a.createElement("a",{className:j.a["app-link"],href:e},n.a.createElement("img",{className:j.a["app-icon"],src:a}),n.a.createElement("div",{className:j.a["app-name"]},t)));var A=({app:e,onDrag:a,onDrop:t})=>{const[{isDragging:r},p]=Object(k.a)({item:{name:e.name,type:"APP"},collect:e=>({isDragging:e.isDragging()}),end:t}),[,s]=Object(v.a)({accept:"APP",hover(t){t.name!=e.name&&a(t.name,e.name)}}),i=Object(o.useRef)();return p(i),s(i),n.a.createElement("div",{ref:i,style:{visibility:r?"hidden":"visible"}},n.a.createElement(J,e))},U=t(300),R=t.n(U);const Y={apps:{resource:"action::menu/getModules"}},z={resource:"menu",type:"create",data:({items:e})=>e},P=({apps:e,initialAppsOrder:a})=>{const[t,p]=Object(o.useState)(a),{show:s}=Object(i.b)(y.t("Updated order of apps."),{success:!0}),{show:l}=Object(i.b)((e=>e),{critical:!0}),[u]=Object(i.e)(z,{onComplete(){s()},onError(e){l(e.message)}}),m=Object(o.useCallback)(((e,a)=>{const r=((e,a,t)=>{const r=e.indexOf(a),o=e.indexOf(t),n=[...e];return n.splice(r,1),n.splice(o,0,a),n})(t,e,a);p(r)}),[t]),g=Object(o.useCallback)((()=>{u({items:t})}),[t]);return n.a.createElement(r.d,null,n.a.createElement(d.a,{backend:c.a},n.a.createElement("div",{className:R.a.apps},t.map((a=>n.a.createElement(A,{key:a,onDrag:m,onDrop:g,app:e[a]}))))))};var M=()=>{const{baseUrl:e}=Object(i.d)(),{loading:a,error:t,data:p}=Object(i.f)(Y),s=Object(o.useMemo)((()=>{const a=a=>a.startsWith("http:")||a.startsWith("https:")?a:((...e)=>e.filter((e=>!!e)).map((e=>e.replace(/^\/+|\/+$/g,""))).join("/"))(e,"api",a);return null===p||void 0===p?void 0:p.apps.modules.map((e=>({...e,icon:a(e.icon),defaultAction:a(e.defaultAction)})))}),[p]);if(a)return n.a.createElement(r.e,null,n.a.createElement(r.f,null));if(t){const e=y.t("Something went wrong whilst loading your apps");return n.a.createElement(r.p,{error:!0,title:e},t.message)}const d={};return s.forEach((e=>d[e.name]=e)),n.a.createElement(P,{apps:d,initialAppsOrder:s.map((({name:e})=>e))})};a.default=()=>n.a.createElement(n.a.Fragment,null,n.a.createElement(r.h,{spacers:!0,theme:!0}),n.a.createElement("div",{className:s.a.container},n.a.createElement("header",null,n.a.createElement("h1",{className:s.a.title},y.t("Your apps")),n.a.createElement("p",{className:s.a.description},y.t("Drag and drop the menu items to re-order them."))),n.a.createElement(M,null)))}}]);
//# sourceMappingURL=app.8417458d.chunk.js.map